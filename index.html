---
layout: page
title: api-codegen
---

<script type="text/javascript">

function generateCode()
	{

	$response = "";

	$requestURL = document.getElementById("apisjson").value;

	document.getElementById("loadingrow").style.display = '';

	$hosturl = 'http://api.api.kinlane.com';
	$baseurl = '/';
	$resource = 'apijson/codegen/client/';

	$query = '?url=' + $requestURL;
	$apiurl = $hosturl + $baseurl + $resource + $query;

	console.log("pulling: " + $apiurl);

	$.ajax({
		url: $apiurl,
		type: 'GET',
		success: function(data) {

			$WorkingResponse = data;

			$.each(data['libraries'], function(libraryKey, libraryValue) {
				
				$.each(libraryValue, function(resourceKey, resourceValue) {
				
					console.log(resourceKey);
					
					$html = '<tr>';
					$html = $html + '<td colspan="3" style="padding-top: 0px; padding-bottom: 0px;">';				
					$html = $html + '<span style="font-size:20px;">';
					$html = $html + '<strong>' + resourceKey + '</strong>';
					$html = $html + '</span>';				
					$html = $html + '</td>';
					$html = $html + '</tr>';						
					$('#resultstable').append($html); 				
					
					//console.log(resourceValue);
					
					$resource_name = resourceValue['name'];
				
					$html = '<tr>';					
					$html = $html + '<td width="50"></td>';					
					$html = $html + '<td style="padding-top: 0px; padding-bottom: 0px;">';						
				
					$.each(resourceValue, function(codeKey, codeValue) {
					
						//console.log(codeKey + ' = ' + codeValue);
						
						$language = codeKey;
						$iconurl = codeValue['icon-url'];
						$zipurl = codeValue['zip-url'];
									
						$html = $html + '<a href="' + $zipurl + '"><img src="' + $iconurl + '" width="75" style="display: inline; padding: 5px;" /></a>';																						
						
					});
					
					$html = $html + '</td>';																	
					$html = $html + '</tr>';						
					$('#resultstable').append($html); 						
				
				});
								
				$html = '<tr><td colspan="3"><hr /></td></tr>';						
				$('#resultstable').append($html);								
							
				document.getElementById("loadingrow").style.display = 'none';
				document.getElementById("resultsrow").style.display = '';

				});
			}
		});

	}
</script>

<table align="center" style="padding-left: 25px;">
	<tr>
		<td>APIs.json File URL:</td>
		<td><input type="text" name="file" id="apisjson" value="https://kin-lane.github.io/api/apis.json" size="50" /></td>
		<td><input type="button" onclick="generateCode();" name="generate" value="Generate" /></td>
	</tr>
	<tr id="loadingrow" style="display: none;">
		<td align="center" colspan="2">
			<br />
			<img src="https://s3.amazonaws.com/kinlane-productions/loading/round-loading.gif" align="center" />
		</td>
	</tr>
	<tr id="resultsrow" style="display: none;">
		<td align="center" colspan="2">
			<table align="center" style="padding-left: 25px;" id="resultstable">
				<tr><td colspan="3"><hr /></td></tr>
			</table>
		</td>
	</tr>	
</table>